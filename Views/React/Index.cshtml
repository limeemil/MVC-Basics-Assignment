
<title>Hello React!</title>

<div id="griddata" class="container">

</div>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.6/react.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.6/react-dom.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/react/16.13.0/umd/react.development.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.13.0/umd/react-dom.development.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/remarkable/1.7.1/remarkable.min.js"></script>
<script src="https://unpkg.com/babel-standalone@6.26.0/babel.js"></script>
@*<script src="@Url.Content("~/js/ReactScript.jsx")" type="text/babel"></script>*@
<script type="text/babel">
    import CreateReactClass from 'create-react-class';
    var PersonGridRow = CreateReactClass({
        render: function () {
            return (
                <tr>
                    <td>{this.props.item.FirstName}</td>
                    <td>{this.props.item.LastName}</td>
                    <td>{this.props.item.Phonenumber}</td>
                    <td>{this.props.item.City}</td>
                </tr>
            );
        }
    });

    var PersonGridTable = CreateReactClass({
        getInitialState: function () {
            return {
                items: []
            }
        },
        componentDidMount: function () {
            $.get(this.props.dataUrl, function (data) {
                if (this.isMounted()) {
                    this.setState({
                        items: data
                    });
                }
            }.bind(this));
        },
        render: function () {
            var rows = [];
            this.state.items.forEach(function (item) {
                rows.push(<PersonGridRow key={item.SSN} item={item} />);
            });
            return (<table className="table table-bordered table-responsive">
                <thead>
                    <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Phonenumber</th>
                        <th>City</th>
                    </tr>
                </thead>
                <tbody>
                    {rows}
                </tbody>
            </table>);
        }
    });
    ReactDOM.render(
        <PersonGridTable dataUrl="/home/getPersonData" />,
        document.getElementById('griddata')
    );
</script>